<view template="dashboard.html">
  <label>Information</label>

  <module name="AccountBar" layoutPanel="appHeader"/>
  <module name="AppBar" layoutPanel="navigationHeader"/>

  <module name="Message" layoutPanel="messaging">
    <param name="filter">*</param>
    <param name="clearOnJobDispatch">False</param>
    <param name="maxSize">1</param>
  </module>

  <module name="TitleBar" layoutPanel="viewHeader">
    <param name="actionsMenuFilter">dashboard</param>
  </module>

<module name="ServerSideInclude" layoutPanel="panel_row2_col1">
    <param name="src">puppet_hosts.html</param>
</module>

<module name="ServerSideInclude" layoutPanel="panel_row2_col2">
    <param name="src">puppet_environment.html</param>
</module>

<module name="ServerSideInclude" layoutPanel="panel_row3_col1">
    <param name="src">puppet_information.html</param>
</module>

<module name="ServerSideInclude" layoutPanel="panel_row3_col2">
    <param name="src">puppet_information.html</param>
</module>

<module name="SearchSelectLister" layoutPanel="panel_row3_col1_grp1">
         <param name="label">Hosts </param>
         <param name="settingToCreate">host_setting</param>
         <param name="search"> | inputlookup auto_serverlist.csv |fields+ Alias,OSName |search OSName=Solaris NOT Alias=*rpx* |sort Alias |uniq</param>
         <param name="searchWhenChanged">True</param>
         <param name="searchFieldsToDisplay">
        <list>
              <param name="label">Alias</param>
              <param name="value">Alias</param>
        </list>
</param>
    <module name="ConvertToIntention">
           <param name="settingToConvert">host_setting</param>
           <param name="intention">
           <param name="name">stringreplace</param>
           <param name="arg">
           <param name="hostname">
           <param name="fillOnEmpty">True</param>
           <param name="prefix">hostname=</param>
           <param name="value">$target$</param>
        </param>
      </param>
    </param>

<module name="TimeRangePicker" layoutPanel="panel_row3_col1_grp2">
   <param name="searchWhenChanged">True</param>
   <param name="selected">Last 24 Hours</param>
<module name="HiddenSearch" layoutPanel="panel_row3_col1_grp1" autoRun="True">
    <module name="GenericHeader"><param name="label">Last Puppetrun</param></module>
                  <param name="search">index="*" $hostname$ puppetd run catalog in | eval mytime=strftime(_time,"%Y-%m-%d %H:%M:%S") | table mytime </param>
    <module name="SingleValue">
                  <param name="format">none</param>
    </module>
    </module>
    <module name="HiddenSearch" layoutPanel="panel_row3_col1_grp1">
         <param name="search">index="*" $hostname$ puppetd run catalog in</param>
    <module name="ViewRedirectorLink">
                                <param name="viewTarget">flashtimeline</param>
                                <param name="label">View full results</param>
    </module>
    </module>


      <module name="HiddenSearch" layoutPanel="panel_row3_col1_grp1" autoRun="True">
        <module name="GenericHeader"><param name="label">Puppet Error</param></module>
        <param name="search">index="*" $hostname$ puppetd error | stats count | rangemap field=count low=0-0 elevated=1-20 severe=21-10000 default=low</param>
        <module name="SingleValue">
          <param name="field">count</param>
          <param name="classField">range</param>
        </module>
    </module>
    <module name="HiddenSearch" layoutPanel="panel_row3_col1_grp1">
         <param name="search">index="*" $hostname$ puppetd error</param>
    <module name="ViewRedirectorLink">
                                <param name="viewTarget">flashtimeline</param>
                                <param name="label">View full results</param>
    </module>
    </module>


<module name="HiddenSearch" layoutPanel="panel_row3_col1_grp2" autoRun="True">
    <module name="GenericHeader"><param name="label">Duration of Puppetrun</param></module>
                  <param name="search">index="*" $hostname$ puppetd Finished run in seconds | rex "run in (?&lt;seconds&gt;.*) seconds" | table seconds</param>
    <module name="SingleValue">
                  <param name="afterLabel">seconds</param>
    </module>
    </module>
    <module name="HiddenSearch" layoutPanel="panel_row3_col1_grp2">
         <param name="search">index="*" $hostname$ puppetd Finished run in seconds</param>
    <module name="ViewRedirectorLink">
                                <param name="viewTarget">flashtimeline</param>
                                <param name="label">View full results</param>
    </module>
    </module>


    <module name="HiddenSearch" layoutPanel="panel_row3_col1_grp2" autoRun="True">
    <module name="GenericHeader"><param name="label">Puppet Version</param></module>
                  <param name="search">$hostname$ index="*" puppetd puppetversion version returns NOT "executed" | rex "\(//puppetversion/Exec\[version\]/returns\) (?&lt;version&gt;.*)" | table version</param>
    <module name="SingleValue">
                  <param name="format">none</param>
    </module>
    </module>

    <module name="HiddenSearch" layoutPanel="panel_row3_col1_grp2">
         <param name="search">index="*" $hostname$ puppetd puppetversion version returns NOT "executed"</param>
    <module name="ViewRedirectorLink">
                                <param name="viewTarget">flashtimeline</param>
                                <param name="label">View full results</param>
    </module>
    </module>
    </module>
    </module>
    </module>

<module name="SearchSelectLister" layoutPanel="panel_row3_col2_grp1">
         <param name="label">Environment </param>
         <param name="settingToCreate">host_setting</param>
         <param name="search"> | inputlookup serverlist_umgebung.csv | uniq</param>
         <param name="searchWhenChanged">True</param>
         <param name="searchFieldsToDisplay">
        <list>
              <param name="label">label</param>
              <param name="value">alias</param>
        </list>
</param>
    <module name="ConvertToIntention">
           <param name="settingToConvert">host_setting</param>
           <param name="intention">
           <param name="name">stringreplace</param>
           <param name="arg">
           <param name="hostname">
           <param name="fillOnEmpty">True</param>
           <param name="prefix">hostname=</param>
           <param name="value">$target$</param>
        </param>
      </param>
    </param>
<module name="TimeRangePicker" layoutPanel="panel_row3_col2_grp2">
   <param name="searchWhenChanged">True</param>
   <param name="selected">Last 24 Hours</param>

      <module name="HiddenSearch" layoutPanel="panel_row3_col2_grp1" autoRun="True">
        <module name="GenericHeader"><param name="label">Puppet Error</param></module>
        <param name="search">index="*" $hostname$ puppetd error | stats count | rangemap field=count low=0-0 elevated=1-20 severe=21-10000 default=low</param>
        <module name="SingleValue">
          <param name="field">count</param>
          <param name="classField">range</param>
        </module>
    </module>
    <module name="HiddenSearch" layoutPanel="panel_row3_col2_grp1">
         <param name="search">index="*" $hostname$ puppetd error </param>
    <module name="ViewRedirectorLink">
                                <param name="viewTarget">flashtimeline</param>
                                <param name="label">View full results</param>
    </module>
    </module>

      <module name="HiddenSearch" layoutPanel="panel_row3_col2_grp2" autoRun="True">
        <module name="GenericHeader"><param name="label">SSL Error</param></module>
        <param name="search">index="*" $hostname$ puppetd error ssl| stats count | rangemap field=count low=0-0 elevated=1-20 severe=21-10000 default=low</param>
        <module name="SingleValue">
          <param name="field">count</param>
          <param name="classField">range</param>
        </module>
    </module>
    <module name="HiddenSearch" layoutPanel="panel_row3_col2_grp2">
         <param name="search">index="*" $hostname$ puppetd error ssl</param>
    <module name="ViewRedirectorLink">
                                <param name="viewTarget">flashtimeline</param>
                                <param name="label">View full results</param>
    </module>
    </module>
    </module>
    </module>
    </module>
</view>
